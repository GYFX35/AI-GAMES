<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Portal</title>
    <meta name="description" content="Welcome to the Game Portal! Discover AI MMO, Manga, Casino, E-sport, Instant Games, and connect with our community.">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <header>
        <h1>Welcome to the Game Portal</h1>
    </header>
    <nav>
        <ul>
            <li><a href="ai_mmo_games.html">AI MMO Games</a></li>
            <li><a href="manga_games.html">Manga Games</a></li>
            <li><a href="casino_games.html">Casino Games</a></li>
            <li><a href="global_gambles.html">Global Gambles</a></li>
            <li><a href="forums.html">Forums</a></li>
            <li class="nav-item"><a href="affiliates.html">Affiliates</a></li>
            <li><a href="esport_games.html">E-sport Games</a></li>
            <li><a href="instant_games.html">Instant Games</a></li>
            <li><a href="partnerships.html">Partnerships</a></li>
            <li><a href="camera_features.html">Camera Features</a></li>
            <li><a href="paywell.html">Paywell Wallet</a></li>
            <li><a href="cloud_gaming.html">Cloud Gaming</a></li>
            <li><a href="sponsorship.html">Sponsor Us</a></li>
            <li><a href="monetization.html">Monetization Info</a></li>
        </ul>
    </nav>
    <div style="text-align: center; padding: 20px;">
        <button id="nativeShareBtn" style="padding: 10px 20px; font-size: 1.1em; cursor: pointer;">Share this Portal!</button>
    </div>
    <footer>
        <p>&copy; 2023 Game Portal</p>
    </footer>
    <script>
      // Service Worker Registration (existing code)
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            })
            .catch(err => {
              console.log('ServiceWorker registration failed: ', err);
            });
        });
      }

      // Web Share API Implementation (new code)
      const nativeShareButton = document.getElementById('nativeShareBtn');

      if (nativeShareButton) { // Check if button exists on the page
        if (navigator.share) {
          nativeShareButton.addEventListener('click', async () => {
            try {
              await navigator.share({
                title: document.title,
                text: 'Check out the Game Portal - your hub for AI MMO, Manga, Casino games and more!',
                url: window.location.href
              });
              console.log('Game Portal shared successfully!');
            } catch (error) {
              console.error('Error sharing Game Portal:', error);
            }
          });
        } else {
          console.log('Web Share API not supported in this browser.');
          // Fallback: Hide the button if Web Share API is not supported
          nativeShareButton.style.display = 'none';
          // Optionally, you could implement other fallback sharing methods here
          // e.g., display direct links to Twitter, Facebook share intents.
        }
      }
    </script>
</body>
</html>
